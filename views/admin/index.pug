extends ./layout


block content
        h3.page-title Admin panel
        h4 Profile:
        span.user-info Name: #{user.name}
        span.user-info Email: #{user.email}
        span.user-role Role: #{user.role} user
        span.user-info Number of posts #{posts.length}

        h4 Recent registered users
                ul(class="list collection")
                        - let usersCounter = 0;
                        each user in users
                                - usersCounter++;
                                li.collection-item
                                        span.post-title
                                        a(href=``) #{user.email}
                                        a.secondary-content(href=`dashboard/post/delete/${user.userId}`) Delete 
                                        a.secondary-content(href=`dashboard/post/edit/${user.userId}`) Edit
                                        //- div.switch.secondary-content
                                        //-         label Inactive
                                        //-         if(post.status == 'active')
                                        //-                 input.activate(type="checkbox" id=post.postId, checked) 
                                        //-         else
                                        //-                 input.activate(type="checkbox", id=post.postId,)
                                        //-         span.lever
                                        //-         label Active
                                        //- input(type="hidden", class="postId", value=post.postId)
                                        if(usersCounter > 2)
                                                - break;
        h4 Recent posts
        ul(class="list collection")
            - let postCounter = 0;
            each post in posts
                - postCounter++;
                    li.collection-item
                         span.post-title
                            a(href=`/post/show/${post.postId}`) #{post.title}
                            a.name(href=`/admin/user/show/${post.userId}`) by #{post.user.name}
                            a.secondary-content(href=`dashboard/post/delete/${post.postId}`) Delete 
                            a.secondary-content(href=`dashboard/post/edit/${post.postId}`) Edit
                            div.switch.secondary-content
                                label Inactive
                                    if(post.status == 'active')
                                        input.activate(type="checkbox" id=post.postId, checked) 
                                    else
                                        input.activate(type="checkbox", id=post.postId,)
                                    span.lever
                                label Active
                            input(type="hidden", class="postId", value=post.postId)
                            if(postCounter > 2)
                                - break;